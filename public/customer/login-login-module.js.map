{"version":3,"sources":["./src/app/login/login-routing.module.ts","./src/app/login/login.component.ts","./src/app/login/login.component.html","./src/app/login/login.module.ts"],"names":[],"mappings":"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","file":"login-login-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginComponent } from './login.component';\n\nconst routes: Routes = [{ path: '', component: LoginComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class LoginRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { BaseComponent } from '../framework/BaseCompo';\nimport { CommonService } from '../framework/common.service';\nimport { ApiGenerator } from '../framework/ApiGenerator';\nimport { TaskCode } from '../framework/globals';\nimport { LoginResp } from '../Model/LoginResp';\nimport { Router } from '@angular/router';\nimport { HttpClient,HttpHeaders } from '@angular/common/http';\nimport Swal from 'sweetalert2';\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent extends BaseComponent implements OnInit {\n  UserId = '';\n  Pwd = '';\n  mobileNumber :string = '';\n  Otp:string='';\n  showOtp:boolean=false;\n  selectedLogin: string = 'domino';\n\n  constructor(public services: CommonService, public router: Router,private http: HttpClient,) {\n    super(services);\n  }\n\n  ngOnInit(): void {\n\n  }\n  generateOtp() {\n\n    if(!this.mobileNumber){\n      Swal.fire({\n        icon:'warning',\n        title:'Please Enter Mobile Number First!'\n      })\n      return;\n    }\n    try {\n      this.showOtp= true;\n      this.http.get(\n        `https://omsanchar.omlogistics.co.in/oracle/generateOtp.php?no=${this.mobileNumber}&status=generate`, {})\n        .subscribe((resp: any) => {\n          if (resp.error=== 'false' && resp.message === 'Otp generated. pls check sms') {\n          Swal.fire({\n            icon:'success',\n            title:'Otp generated,Please Check SMS'\n          })\n          }\n          else {\n            Swal.fire({\n              icon:'error',\n              title:'Something went wrong!'})\n          }\n        });\n\n    } catch (err) {\n      this.showOtp= false;\n      throw err;\n    }\n  }\n  Login() {\n    const data = {\n      // CustomerId:'345637',\n      // Pwd:'qw23@mk3'\n      CustomerId: this.UserId,\n      Pwd: this.Pwd\n    };\n    if (this.selectedLogin === 'hrd') {\n    this.http.get(\n      `https://omsanchar.omlogistics.co.in/oracle/generateOtp.php?no=${this.mobileNumber}&status=validate&otp=${this.Otp}`, {})\n      .subscribe((resp: any) => {\n        console.log(resp);\n        if(resp && resp.error === 'false' && resp.message === 'OTP matched'){\n          localStorage.setItem('session', this.mobileNumber);\n          this.router.navigateByUrl('/newemloyeform');\n\n        }\n        else{\n          this.router.navigateByUrl('/login');\n        }\n      });\n    }\n    else{\n    this.downloadData(ApiGenerator.Login(data));\n    }\n  }\n\n  onLoginChange(value: string) {\n    this.selectedLogin = value;\n    //this.showOtp = (value === 'hrd');\n  }\n\n\n  onResponseReceived(taskCode: TaskCode, response: any) {\n    const success = super.onResponseReceived(taskCode, response);\n    if (success) {\n      switch (taskCode) {\n        case TaskCode.LOGIN:\n          const LoginResp = response as LoginResp;\n          if (!LoginResp.data.error) {\n            delete LoginResp.data.data[0].PASSWORD;\n            localStorage.setItem('session', JSON.stringify(LoginResp));\n            if(this.UserId === '345637'){\n              this.router.navigateByUrl('/dashboard');\n            }\n            else{\n              this.router.navigateByUrl('/newemloyeform');\n            }\n          }\n          else {\n            Swal.fire('Authentication Failed', 'kindly Fill Valid Details', 'warning')\n          }\n      }\n    }\n    return success;\n  }\n\n}\n","<section class=\"login-block\">\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-md-4 login-sec\">\n        <h2 class=\"text-center\">Login Now</h2>\n        <form class=\"login-form\">\n          <div class=\"form-group\">\n            <label for=\"Login\">Select Login Type</label>\n            <div style=\"display: flex;justify-content: space-evenly;\">\n              <div>\n                <label>\n                  <input type=\"radio\" name=\"loginType\" value=\"hrd\" (change)=\"onLoginChange($event.target.value)\">HRD\n                </label>\n              </div>\n              <div>\n                <label>\n                  <input type=\"radio\" name=\"loginType\" value=\"domino\" (change)=\"onLoginChange($event.target.value)\" checked>Domino\n                </label>\n              </div>\n            </div>\n\n          </div>\n\n          <div *ngIf=\"selectedLogin === 'hrd'\">\n            <div class=\"form-group\" style=\"text-align: center; margin-top: 4em;\">\n              <label for=\"mobileNumber\" class=\"text-uppercase\">Mobile Number</label>\n              <input type=\"text\" class=\"form-control\" placeholder=\"Enter Mobile Number\" name=\"mobileNumber\" [(ngModel)]=\"mobileNumber\">\n            </div>\n            <div class=\"form-check\">\n              <button type=\"button\" (click)=\"generateOtp()\" class=\"btn btn-sm btn-login float-right\">Generate OTP</button>\n            </div>\n            <div class=\"form-group\" *ngIf=\"showOtp\" style=\"text-align: center; margin-top: 3em;\">\n              <label for=\"OTP\" class=\"text-uppercase\">OTP</label>\n              <input type=\"text\" class=\"form-control\" placeholder=\"Enter OTP\" name=\"OTP\" [(ngModel)]=\"Otp\">\n            </div>\n            <div class=\"form-check\" *ngIf=\"showOtp\">\n              <button type=\"button\" (click)=\"Login()\" class=\"btn btn-sm btn-login float-right\" [disabled]=\"!mobileNumber || !Otp\">Login</button>\n            </div>\n          </div>\n\n          <div *ngIf=\"selectedLogin === 'domino'\">\n            <div class=\"form-group\">\n              <label for=\"exampleInputEmail1\" class=\"text-uppercase\">Username</label>\n              <input type=\"text\" class=\"form-control\" placeholder=\"\" name=\"UserId\" [(ngModel)]=\"UserId\">\n            </div>\n            <div class=\"form-group\">\n              <label for=\"exampleInputPassword1\" class=\"text-uppercase\">Password</label>\n              <input type=\"password\" class=\"form-control\" placeholder=\"\" name=\"Pwd\" [(ngModel)]=\"Pwd\">\n            </div>\n            <div class=\"form-check\">\n              <button type=\"button\" (click)=\"Login()\" class=\"btn btn-sm btn-login float-right\" [disabled]=\"!UserId || !Pwd\">Login</button>\n            </div>\n          </div>\n\n\n        </form>\n      </div>\n      <div class=\"col-md-8 banner-sec\"></div>\n    </div>\n  </div>\n</section>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { LoginRoutingModule } from './login-routing.module';\nimport { LoginComponent } from './login.component';\n\nimport { FormsModule } from '@angular/forms';\n\n\n@NgModule({\n  declarations: [LoginComponent],\n  imports: [\n    CommonModule,\n    LoginRoutingModule,\n    FormsModule\n  ]\n})\nexport class LoginModule { }\n"],"sourceRoot":"webpack:///"}